{% extends "base.html" %}
{% load static %}

{% block appTitle %}RavaDev - Strona główna{% endblock %}
{% block moduleTitle %}Witamy w RavaDev{% endblock %}
{% block appHeader %}RavaDev - Strona główna{% endblock %}
{% block moduleHeader %}Witamy w RavaDev{% endblock %}

{% block content %}
<!-- Sekcja CTA -->
<section id="cta" class="cta-section">
  <div class="cta-slider">
    {% for img in cta_images %}
      <div class="cta-slide {% if forloop.first %}active{% endif %}">
        <img src="_media/{{ img }}" alt="Slajd {{ forloop.counter }}">
      </div>
    {% endfor %}
    <!-- Strzałki -->
    <button class="cta-prev">&#10094;</button>
    <button class="cta-next">&#10095;</button>
    <!-- Kropki -->
    <div class="cta-dots">
      {% for img in cta_images %}
        <span class="cta-dot {% if forloop.first %}active{% endif %}" data-slide="{{ forloop.counter0 }}"></span>
      {% endfor %}
    </div>
  </div>
</section>

<!-- Reszta sekcji -->
<section id="o-nas" class="about-section">
  <h2>O nas</h2>
  <p>Jesteśmy zespołem pasjonatów technologii, specjalizujących się w tworzeniu nowoczesnych stron i aplikacji internetowych.</p>
</section>

<section id="blog" class="blog-section">
  <h2>Blog</h2>
  <ul>
    <li><a href="/blog/jak-zaczac-z-web-developmentem/">Jak zacząć z web developmentem?</a></li>
    <li><a href="/blog/trendy-w-projektowaniu-stron/">Trendy w projektowaniu stron 2025</a></li>
    <li><a href="/blog/seo-dla-firm/">SEO dla firm - praktyczne wskazówki</a></li>
  </ul>
</section>

<section id="uslugi" class="services-section">
  <h2>Usługi</h2>
  <ul>
    <li>Tworzenie stron internetowych</li>
    <li>Projektowanie UI/UX</li>
    <li>Optymalizacja SEO</li>
    <li>Wsparcie techniczne</li>
  </ul>
</section>

<section id="realizacje" class="portfolio-section">
  <h2>Realizacje</h2>
  <div class="portfolio-gallery">
    <img src="{% static 'images/realizacja1.jpg' %}" alt="Realizacja 1">
    <img src="{% static 'images/realizacja2.jpg' %}" alt="Realizacja 2">
    <img src="{% static 'images/realizacja3.jpg' %}" alt="Realizacja 3">
  </div>
</section>

<section id="kontakt" class="contact-section">
  <h2>Kontakt</h2>
  <form method="post" action="/kontakt/">
    {% csrf_token %}
    <label for="name">Imię:</label>
    <input type="text" id="name" name="name" required>
    <label for="email">E-mail:</label>
    <input type="email" id="email" name="email" required>
    <label for="message">Wiadomość:</label>
    <textarea id="message" name="message" required></textarea>
    <button type="submit">Wyślij</button>
  </form>
</section>
{% endblock %}

{% block extra_js %}
<script>document.addEventListener("DOMContentLoaded", function() {
  const slides = document.querySelectorAll(".cta-slide");
  const dots = document.querySelectorAll(".cta-dot");
  let currentIndex = 0;
  let timer;

  function showSlide(index) {
    slides.forEach((s, i) => {
      s.classList.remove("active");
      dots[i].classList.remove("active");
    });
    slides[index].classList.add("active");
    dots[index].classList.add("active");
    currentIndex = index;
  }

  function nextSlide() {
    let newIndex = (currentIndex + 1) % slides.length;
    showSlide(newIndex);
  }

  function prevSlide() {
    let newIndex = (currentIndex - 1 + slides.length) % slides.length;
    showSlide(newIndex);
  }

  function startAutoSlide() {
    timer = setInterval(nextSlide, 4000);
  }

  function stopAutoSlide() {
    clearInterval(timer);
  }

  document.querySelector(".cta-next").addEventListener("click", () => {
    stopAutoSlide();
    nextSlide();
    startAutoSlide();
  });

  document.querySelector(".cta-prev").addEventListener("click", () => {
    stopAutoSlide();
    prevSlide();
    startAutoSlide();
  });

  dots.forEach(dot => {
    dot.addEventListener("click", (e) => {
      stopAutoSlide();
      showSlide(parseInt(e.target.dataset.slide));
      startAutoSlide();
    });
  });

  showSlide(currentIndex);
  startAutoSlide();
});</script>
{% endblock %}